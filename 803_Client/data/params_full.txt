<html xmlns:IE>
<head>
<title>RuneScape - The Number 1 Free Multiplayer Game</title>
<meta http-equiv='Expires' content='0'>
<meta http-equiv='Pragma' content='no-cache'>
<meta http-equiv='Cache-Control' content='no-cache'>
<meta name="description" content="Play RuneScape, the world's most popular free MMORPG. Start your adventure, complete quests and win enormous treasures in a 3D world of magic and monsters.">
<link href="http://www.runescape.com/css/fonts-51.css" rel="stylesheet">
<style>
  html,
  body,
  #content,
  table {
   margin: 0;
   padding: 0;
   width: 100%;
   height: 100%;
  }
  img {
   display: block;
  }
  body {
   font-size: 0;
   background: black;
   text-align: center;
   font-family: MuseoSans500,Arial,Times New Roman,serif;
  }
   #content {
    position: absolute;
    top: 0;
    left: 0;
   }
    td {
     text-align: center;
    }
     a img {
      border: none;
     }
     .hoverImg {
      display: block;
      overflow: hidden;
      position: relative;
      font-weight: normal;
     }
      .hoverImg img {
       position: absolute;
       left: 0;
       top: 0;
       width: 200%;
       height: 100%;
      }
      .hoverImg:hover img {
       left: -100%;
       text-indent: 100%;
      }
     .hoverImg:hover {
      font-weight:bold;
     }
     #top,
     #bottom {
      width: 100%;
      background-repeat: repeat-x;
      background-color: black;
     }
     #top {
      position: relative;
      z-index: 1;
     }
     .no-advert #top {
      height:0;
     }
     #advert {
      width: 100%;
      margin: auto;
      height: 122px;
      text-align: center;
      background: url(http://www.runescape.com/img/global/advert/advertLetterBoxBG.png) center top no-repeat;
     }
     #advert iframe {
      margin: 14px 0 0 2px;
      width: 747px;
      height: 90px;
     }
     #advert div {
      margin: 0 auto;
      padding-top: 18px;
     }
     #applet_cell {
      width: 5000px;
      height: 100%;
     }
      #applet {
       margin: 0;
       padding: 0;
       position: relative;
       width: 100%;
       height: 100%;
      }
       #game, #client {
        position: absolute;
        left: 0;
        top: 0;
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
       }
       .nojava {
        color: white;
        text-align: left;
        width: 765px;
        font-size: 15px;
        padding-top: 10px;
        margin: auto;
       }
        .nojava h1 {
         color: #f3b13f;
         font-family: KingthingsPetrockRegular,Times New Roman,serif;
        }
        .nojava p {
         color: #b8b8b8;
         font-family: MuseoSans500,Arial,Times New Roman,serif;
        }
        .nojava a {
         color: #DF6E0E;
         text-decoration: none;
        }
        .nojava a:hover {
         text-decoration: underline;
        }
     #bottom {
      float: left;
      height: 120px;
      background-position: center top;
      background-image: url(http://www.runescape.com/img/game/footer_bg.jpg);
     }
      #bottom div {
       margin: 66px auto 0;
       width: 750px;
       overflow: hidden;
      }
      #bottom div span {
       float: left;
      }
      #bottom div #terms {
       font-family: MuseoSans500,Arial,Times New Roman,serif;
      }
      #bottom div #jagex_link {
       margin-right: 37px;
       float: left;
      }
      #bottom div ul {
       float: right;
       list-style: none;
       margin: 0;
       padding: 0;
      }
      #bottom div li {
       float: left;
       margin-left: 10px;
      }
      #bottom div span {
       display: block;
       text-align: left;
       width: 500px;
       font-size: 10px;
       color: #b6b6b6;
      }
      #bottom div span a {
       color: #df6e0e;
       text-decoration: none;
      }
      #bottom div span a:hover {
       text-decoration: underline;
      }
  
  .members #top,
  .no-advert #top {
   display: none;
  }
  
  .resize #bottom {
   display: none;
  }
  
  #advert-modal {
   margin: 0 auto;
   padding: 10px 10px 20px 10px;
   background: #000;
   position: relative;
   top: 100px;
   border-top: 2px solid #6a6861;
   border-left: 1px solid #272624;
   border-right: 1px solid #272624;
   border-bottom: 2px solid #7b7670;
   left: -99999px;
   z-index: 11;
  }
  .corner {
   position: absolute;
   background-image: url(http://www.runescape.com/img/game/videoads/corners.png);
   width: 230px;
   height: 190px;
   display: block;
   z-index: 12;
  }
  .topLeft { left: -57px; top: -23px; background-position: 0 0;}
  .topRight { right: -57px; top: -23px; background-position: -230px 0;}
  .bottomLeft { left: -57px; bottom: -25px; background-position: 0 -190px;}
  .bottomRight {right: -57px; bottom: -25px;background-position: -230px -190px;}
  .border {
   width: 512px;
   height: 95px;
   display: block;
   background: url(http://www.runescape.com/img/game/videoads/top.png?1) 0 0 no-repeat;
   position: absolute;
   top: -91px;
   left: 0;
   z-index: 11;
  }
  #advert-player {
   width: 100%;
   height: 100%;
   display: block;
   position: relative;
   z-index: 13;
  }
  #advert-player_wrapper {
   z-index: 13;
  }
  iframe#advert-iframe {
   position: absolute;
   left: -99999px;
   top: 0;
   z-index: 10;
   width: 100%;
   height: 100%;
   margin: 0;
   padding: 0;
   background: #000;
   border: none;
  }
  div#advert-modal a, div#advert-modal a:link, div#advert-modal a:visited, div#advert-modal a:focus, div#advert-modal a:active {
   font-size: 12px;
   color: #fff;
  }
  .qm {
   bottom: 3px;
   color: #fff;
   cursor: pointer;
   display: block;
   font: bold 12px/16px Arial, Helvetica, FreeSans, sans-serif;
   height: 16px;
   position: absolute;
   right: 10px;
   text-align: center;
   text-decoration: none;
   width: 16px;
   z-index: 15;
  }
  .qm:hover{
   color:#eee;
  }
  #sb-close-rs {
   position: absolute;
   width: 29px;
   height: 33px;
   cursor: pointer;
   background: url(http://www.runescape.com/img/game/altCloseButton.png) left top;
  }
  #sb-close-rs:hover {
   background-position: right top;
  }
  #noflash {
   position: absolute;
   top: 145px;
   left: 170px;
   width: 320px;
   z-index: 14;
   display: none;
  }
  #noflash p {
   font: bold 12px/25px Arial, Helvetica, FreeSans, sans-serif;
   color: #fff;
  }
  #furtherInfo {
   color: white;
   height: 20px;
   position: absolute;
   z-index: 12;
   font-size: 12px;
   width: 655px;
   left: 0;
  }
  #thisIsAdvert {
     float: left;
     margin: 2px 0 0 11px;
  }
  #countdownp {
     float: right;
     margin: 2px 25px 0 0;
     display: none;
  }
  #loadingMessage {
   color: white;
   text-align: center;
   position: absolute;
   left: 0;
   top: 50%;
   width: 100%;
   height: 40px;
   font-size: 15px;
   z-index: 10;
  }
  .popupBlockMessageContainer {
   z-index: 10000;
   width: 100%;
   background-color: rgb(252, 240, 173);
   border-bottom: 2px solid rgb(224, 214, 154);
   margin: 0;
   padding: 0;
   min-height: 25px;
   position: fixed;
   top: 0;
   display: none;
  }
  .popupBlockMessageContainerWrapper {
   display: table;
   width: 100%;
  }
  .popupBlockMessageContainer p {
   font-size: 14px;
   color: rgb(0, 0, 0);
   text-align: center;
   font-family: MuseoSans500,Arial,Times New Roman,serif;
   line-height: 24px;
   margin: 0;
   margin-right: 15px;
   margin-left: 15px;
   padding: 0;
   margin-top: 7px;
   margin-bottom: 5px;
  }
  .popupBlockMessageContainer a {
   color: #00f;
   position: relative;
  }
  .popupBlockMessageContainerXSpace {
   background-color: rgb(224, 214, 154);
   cursor: pointer;
   color: #BAB280;
   font-size: 14px;
   font-weight: bold;
   display: table-cell;
   top: 0px;
   right: 0px;
   width: 40px;
   height: 100%;
   margin: 0px;
   padding: 0px;
   text-align: center;
   user-select: none;
   vertical-align: middle;
   -webkit-touch-callout: none;
   -webkit-user-select: none;
   -khtml-user-select: none;
   -moz-user-select: none;
   -ms-user-select: none;
  }
  .cssHideAdvert{
   display:none;
  }
  </style>
<script type="text/javascript" src="http://www.runescape.com/img/game/videoads/jwplayer.js"></script>
<script type='text/javascript'>
   // Google DFP adverts
   var googletag = googletag || {};
   googletag.cmd = googletag.cmd || [];
   (function() {
   var gads = document.createElement('script');
   gads.async = true;
   gads.type = 'text/javascript';
   var useSSL = 'https:' == document.location.protocol;
   gads.src = (useSSL ? 'https:' : 'http:') +
   '//www.googletagservices.com/tag/js/gpt.js';
   var node = document.getElementsByTagName('script')[0];
   node.parentNode.insertBefore(gads, node);
   })();
   googletag.cmd.push(function() {
   googletag.defineSlot('/7108/World_Hop_Video', [728, 90], 'advert').addService(googletag.companionAds());
   googletag.enableServices();
   });
  </script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<script type="text/javascript">window.jQuery||document.write("<script src='http://www.jagex.com/js/jquery/jquery_1_7.js'>\x3C/script>")</script>
<script type="text/javascript" src="http://www.jagex.com/js/shadowbox/shadowbox-0.js"></script>
<link rel="stylesheet" type="text/css" href="http://www.jagex.com/css/shadowbox/shadowbox-0.css"/>
<IE:clientCaps ID="oClientCaps"></IE:clientCaps>
<script>
  document.domain='runescape.com';
  window.onload = function(){
   var a = document.getElementsByTagName("a");
   var exitFunction = function(){
    if((this.target == "" || this.target == "_parent" || this.target == "_top") && !this.onclick){
     return confirm("Please make sure you have logged out of the game before navigating away.");
    }
   }
   for(var i = 0; i < a.length; i++){
    a[i].onclick = exitFunction;
   }
  }
 </script>
</head>
<body class="no-advert ">
<div id="content">
<table cellpadding=0 cellspacing=0>
<tr>
<td colspan=2>
<div id="top">

<div id="advert" class="cssHideAdvert">
<iframe name="tbi" id="advertIframe" src="blank.ws" allowtransparency="true" width="730" height="100" scrolling="no" frameborder="0"></iframe>
<script type="text/javascript">tb_url="http://www.runescape.com/advert/advert.ws?placement=203";</script>
</div>

</div>
</td>
</tr>
<tr>
<td width="800" height="0" colspan="2"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" height=0 width=800></td>
</tr>
<tr>
<td width="0" height="600"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" height=600 width=0></td>
<td id="applet_cell">
<div id="applet">
<!--[if IE]>
<style type="text/css">
  @media all {
   IE\:clientCaps {behavior:url(#default#clientcaps)}
  }
 </style>
<IE:clientCaps ID="oClientCaps"></IE:clientCaps>
<![endif]-->
<script type="text/javascript">haveie6=false;</script>
<!--[if lt IE 7]><script type="text/javascript">haveie6=true;</script><![endif]-->
<script type="text/javascript">
  document.domain='runescape.com';
  function getCookie(throw_name){
   var cookies=document.cookie.split("; ");
   var regex="";
   regex=new RegExp("^"+throw_name+"=(.*)");
   for(var i in cookies){
    if( t = regex.exec(cookies[i]) ){
     return t[1];
    }
   }
   return null;
  }
  var openjdk_installed=false;
  if (getCookie("openjdkInstalled")) openjdk_installed=true;
 </script>
<script type="text/javascript" src="http://www.runescape.com/js/deployJava-1.js"></script>
<script id="deployJava" type="text/javascript">
  var javaVersionOK = true;
  try {
   if($.browser.mozilla){
    javaVersionOK = deployJava.versionCheck("1.6.0_31+");
   }
   else{
    javaVersionOK = deployJava.versionCheck("1.6.0_10+");
   }
  } catch(x){}
  
  if (javaVersionOK) {
   








document.write('<app'); document.write('let ');
document.write('name=runescape ');
document.write('id=game ');
document.write('width="100%" ');
document.write('height="100%" ');
document.write('alt="For assistance please visit http://services.runescape.com/m=rswiki/en/Technical_Help" ');
document.write('archive=gamepackBgTFo+lHy/lilpFjXLk4n6pf9X/x/B6L_3649313.jar ');
document.write('code=Rs2Applet.class ');
document.write('mayscript>');



 
 document.write('<param name="centerimage" value="true">');

 
 document.write('<param name="boxborder" value="false">');

 
 document.write('<param name="image" value="http://www.runescape.com/img/game/splash6.gif">');

 
 document.write('<param name="separate_jvm" value="true">');

 
 document.write('<param name="java_arguments" value="-Xmx384m -Xss2m -Dsun.java2d.noddraw=true -XX:CompileThreshold=1500 -Xincgc -XX:+UseConcMarkSweepGC -XX:+UseParNewGC">');

 
 document.write('<param name="boxbgcolor" value="black">');



 
 
 
 document.write('<param name="0" value="dtBFi9*5TmY5K-RGfI6ilw">');

 
 
 
 document.write('<param name="13" value="false">');

 
 
 
 document.write('<param name="34" value="">');

 
 
 
 document.write('<param name="28" value="false">');

 
 
 
 document.write('<param name="42" value="">');

 
 
 
 document.write('<param name="33" value="http://world12.runescape.com">');

 
 
 
 document.write('<param name="40" value="12">');

 
 
 
 document.write('<param name="10" value="0">');

 
 
 
 document.write('<param name="36" value="false">');

 
 
 
 document.write('<param name="8" value="false">');

 
 
 
 document.write('<param name="12" value="0">');

 
 
 
 document.write('<param name="6" value="0">');

 
 
 
 document.write('<param name="22" value="false">');

 
 
 
 document.write('<param name="-1" value="06FCnu1ySFQQTM7xBXUsFA">');

 
 
 
 document.write('<param name="18" value="4786">');

 
 
 
 document.write('<param name="37" value="2036579457">');

 
 
 
 document.write('<param name="41" value="wwGlrZHF5gKN6D3mDdihco3oPeYN2KFybL9hUUFqOvk">');

 
 
 
 document.write('<param name="7" value="">');

 
 
 
 document.write('<param name="11" value=".runescape.com">');

 
 
 
 document.write('<param name="3" value="false">');

 
 
 
 
 document.write('<param name="39" value="">');

 
 
 
 
 document.write('<param name="4" value="">');

 
 
 
 document.write('<param name="31" value="http://world12.runescape.com">');

 
 
 
 document.write('<param name="9" value="0">');

 
 
 
 document.write('<param name="23" value="lobby15.runescape.com">');

 
 
 
 document.write('<param name="20" value="0">');

 
 
 
 document.write('<param name="15" value="true">');

 
 
 
 document.write('<param name="38" value="0">');

 
 
 
 document.write('<param name="30" value="166">');

 
 
 
 document.write('<param name="24" value="0">');

 
 
 
 document.write('<param name="29" value="">');

 
 
 
 document.write('<param name="2" value="http://services.runescape.com/m=gamelogspecs/clientstats?data=">');

 
 
 
 document.write('<param name="1" value="BgTFo+lHy/lilpFjXLk4n6pf9X/x/B6L">');

 
 
 
 document.write('<param name="16" value="false">');

 
 
 
 document.write('<param name="27" value="1114">');

 
 
 
 document.write('<param name="32" value="false">');

 
 
 
 document.write('<param name="17" value="lobby17.runescape.com">');

 
 
 
 document.write('<param name="35" value="1116">');

 
 
 
 document.write('<param name="5" value="halign=true|valign=true|image=rs_logo.gif,0,-43|rotatingimage=rs3_loading_spinner.gif,0,47,9.6|progress=true,Verdana,13,0xFFFFFF,0,51">');

 
 
 
 document.write('<param name="14" value="0">');

if (haveie6) document.write('<param name="haveie6" value="true">');

document.write('<!--[if lt IE 9]><link rel="stylesheet" href="http://www.runescape.com/css/rs3/font_fallback-0.css" type="text/css" media="all" /><![endif]--><!--[if gt IE 8]><!--><!-- x --><link rel="stylesheet" href="http://www.runescape.com/css/rs3/font_base64-0.css" type="text/css" media="all" /> <!--<![endif]--><link href="http://www.runescape.com/css/rs3/styles-80.css" rel="stylesheet" /><div class="gameFlowOverlay noJavaError"><h1>Before you play!</h1><h2>Install <span class="h2Smaller">Java</span></h2><p class="padded">Simply click the button below to quickly install Java and play RuneScape right here in your browser.</p><div class="javaInstallScreens"><div class="javaInstallScreen java1"><h4>1. Download</h4><img src="http://www.runescape.com/img/rs3/game/java_install_1.png" title="Download" alt="Download"></div><div class="javaInstallScreen java2"><h4>2. Run</h4><img src="http://www.runescape.com/img/rs3/game/java_install_2.png" title="Run" alt="Run"></div><div class="javaInstallScreen java3"><h4>3. Install</h4><img src="http://www.runescape.com/img/rs3/game/java_install_3.png" title="Install" alt="Install"></div><div class="javaInstallScreen java4"><h4>4. Play</h4><img src="http://www.runescape.com/img/rs3/game/java_install_4.png" title="Play" alt="Play"></div></div><div class="btnWrap yellow"><div class="btn"><a id="updateJavaButton" href="http://java.com/inc/BrowserRedirect1.jsp" target="_blank"><span>Install Java</span></a></div></div></div>');
document.write('</applet>');

  }
  
  else {
   
   document.getElementsByTagName('body')[0].insertAdjacentHTML('beforeend','<!--[if lt IE 9]><link rel="stylesheet" href="http://www.runescape.com/css/rs3/font_fallback-0.css" type="text/css" media="all" /><![endif]--><!--[if gt IE 8]><!--><!-- x --><link rel="stylesheet" href="http://www.runescape.com/css/rs3/font_base64-0.css" type="text/css" media="all" /> <!--<![endif]--><link href="http://www.runescape.com/css/rs3/styles-80.css" rel="stylesheet" /><div class="gameFlowOverlay noJavaError"><h1>Before you play!</h1><h2>Install <span class="h2Smaller">Java</span></h2><p class="padded">Simply click the button below to quickly install Java and play RuneScape right here in your browser.</p><div class="javaInstallScreens"><div class="javaInstallScreen java1"><h4>1. Download</h4><img src="http://www.runescape.com/img/rs3/game/java_install_1.png" title="Download" alt="Download"></div><div class="javaInstallScreen java2"><h4>2. Run</h4><img src="http://www.runescape.com/img/rs3/game/java_install_2.png" title="Run" alt="Run"></div><div class="javaInstallScreen java3"><h4>3. Install</h4><img src="http://www.runescape.com/img/rs3/game/java_install_3.png" title="Install" alt="Install"></div><div class="javaInstallScreen java4"><h4>4. Play</h4><img src="http://www.runescape.com/img/rs3/game/java_install_4.png" title="Play" alt="Play"></div></div><div class="btnWrap yellow"><div class="btn"><a id="updateJavaButton" href="http://java.com/inc/BrowserRedirect1.jsp" target="_blank"><span>Install Java</span></a></div></div></div>');
  }
 </script>
</div>
</td>
</tr>
</table>
</div>
<script type="text/javascript">
   var tools = {
    addClass: function(obj,clas){
     var new_class = clas+' ';
     if(obj.className.indexOf(clas) == '-1') obj.className += new_class;
    },
    removeClass: function(obj,clas){
     var new_class = clas+' ';
     if(obj.className.indexOf(clas) != '-1') obj.className = obj.className.replace(new_class,'');
    }
   };
   var memory = {
    loggedinstate: false,
    app: document.getElementById('applet'),
    advert: document.getElementById('advertIframe'),
    browser: {
      agent: navigator.userAgent.toLowerCase(),
      platform: navigator.platform.toLowerCase()
     },
    adv_refresh: 0,
     adv_refresh_limit: 60000
   };
   function oul() {
    if (memory.loggedinstate) {
     return "Please make sure you have logged out of the game before navigating away.";
    }
   }
   
   window.onbeforeunload=oul;
   
   function loggedout() {
    memory.loggedinstate=false;
    addCSSHide();
   }
   window.scroll(0,0);
   
   if (memory.browser.platform.indexOf('mac')!=-1 && memory.browser.agent.indexOf('firefox')>-1) {
    document.getElementById('upgrade').onclick=upgradejs;
    document.getElementById('jagex').onclick=jagexjs;
   }
   function upgradejs(e) {
    return openjs(document.getElementById('upgrade').href);
   }
   function jagexjs(e) {
    return openjs(document.getElementById('jagex').href);
   }
   function openjs(href) {
    return openjs_size(href,825,500);
   }
   
   function openjs_size(href,width,height) {
    window.focus();
    var win=window.open(href,'_blank','width='+width+',height='+height+',scrollbars=yes');
    if (win) win.focus();
    return false;
   }
   
   function zap(){
    try{
     $("body").addClass("members");
     if (memory.advert) memory.advert.src = 'blank.ws';
    }catch(err){}
   }
   function unzap(){
    try{
     tools.removeClass(document.body,'members');
     
      tools.removeClass(document.body,'no-advert');
     
     if (memory.advert) {
      memory.advert.src = tb_url;
     }
    }catch(err){}
   }
   
   function removeCSSHide()
   {
    insertBannerAd();
    $("#advert").removeClass("cssHideAdvert");
   }
   function addCSSHide()
   {
    removeBannerAd();
    $("#advert").addClass("cssHideAdvert");
   }
   
function _2(url, title) { $('body').prepend('<div class="popupBlockMessageContainer"><div class="popupBlockMessageContainerWrapper"><p>RuneScape has detected that the popup you tried to access was prevented from opening. Please check your browser allows popups and any 3rd party popup blockers you have installed before trying again. <a href="' + url + '">Click here to open your page.</a></p><div class="popupBlockMessageContainerXSpace">X</div></div></div>');
 $('.popupBlockMessageContainer').fadeIn(250);
 $('.popupBlockMessageContainerXSpace').on('click', function() {
  $('.popupBlockMessageContainer').hide();
 });
}

function _3() {
 memory.loggedinstate=true;
}

function _4(){
 try{pageTracker._trackPageview("https://secure.runescape.com/m=create/applet_start.ws")}catch(x){}
}

function _5(width,height,windowMode,maxRes){
 if(windowMode != 1){
  $("body").addClass("resize");
 }
 else {
  tools.removeClass(document.body,'resize');
 }
}

function _6() {
 return !advertPlaying;
}

function _7() {
}

function _9() {
 if (countDownTimer) {
  clearTimeout(countDownTimer);
 }
 if (document.getElementById("countdownp")) {
  document.getElementById("countdownp").innerHTML = '<a href="#" id="worldHopSkip">Continue to game</a>';
  $('#worldHopSkip').click(function() {
   removeVideoAdvert();
   removeCSSHide();
   googleLogEvent('video ads','continue into game - world hop skip',currTag);
  });
 }
}

function _10() {
 removeVideoAdvert();
}

$(window).on("resize", function(){
 var $billingPopup = $("#billing-popup");
 if($billingPopup.length){
  var
   $applet = $('#applet'),
   applet = {width: $applet.width(), height: $applet.height()},
   position = $applet.position()
  ;
  $billingPopup.css({
   top: position.top,
   left: position.left,
   width: applet.width,
   height: applet.height
  });
  $('#sb-close-rs').css({
   top: position.top + (applet.height / 2) - 291,
   left: position.left + (applet.width / 2) + 395
  });
 }
});
function _12(url) {
 if (url.indexOf("mod=mtxn_rs_shop") >= 0) return popupMtxnWindow(url);
 return popupBillingWindow(url,true,false);
}
function closeBillingWindow() {
 $("#billing-popup").remove();
 $("#billing-blackout").remove();
 $("#sb-close-rs").remove();
 $('applet').focus();
 if (self.unshim) self.unshim();
}
function popupBillingWindow(url,closeButton,blackOut) {
 closeBillingWindow();
 $("<iframe/>")
  .attr({
   src: url,
   id: "billing-popup",
   frameBorder: "0",
   scrolling: "no"
  })
  .css({
   position: 'absolute',
   zIndex: 100
  })
  .appendTo('body')
 ;
 if (closeButton) {
  $("<a/>")
   .attr({
    id: "sb-close-rs"
   })
   .css({
    position: "absolute",
    zIndex: 200
   })
   .click(function(){
    closeBillingWindow();
   })
   .appendTo('body')
  ;
 }
 if (blackOut) {
  $("<iframe/>")
   .attr({
    src: 'blank.ws',
    id: "billing-blackout",
    frameBorder: "0",
    scrolling: "no"
   })
   .css({
    position: 'absolute',
    zIndex: 99,
    top: 0,
    left: 0,
    height: document.body.clientHeight + 'px',
    width: document.body.clientWidth + 'px'
   })
   .appendTo('body')
  ;
 }
 $(window).resize();
 return false;
}
function popupMtxnWindow(url) {
       closeBillingWindow();
//
        
        var href = self.location.href;
        
     //TODO: [CS] The following line will only ever make cut=href.length.  Someone who understands the fallout should probably fix it :)
        var cut = Math.min(Math.max(href.length, href.indexOf("?")), Math.max(href.length, href.indexOf("#")));
        href = href.substring(0, cut);
        href = href.substring(0, href.lastIndexOf("/")+1) + "unshim.ws";
//
       var hashIndex = url.indexOf("#"); var hash = "";
       if (hashIndex >= 0) { hash = url.substring(hashIndex, url.length); url = url.substring(0, hashIndex); }
//
       var startDest = url.indexOf("&dest=", url.indexOf("?")) + 6;
       var endDest = url.indexOf("&", startDest);
       var urlPrefix = url.substring(0, startDest);
       var urlSuffix = ""; var urlDest = "";
       if (endDest >= 0) { urlSuffix = url.substring(endDest); urlDest = url.substring(startDest, endDest); }
       else { urlDest = url.substring(startDest); }
//
       urlDest = decodeURIComponent(urlDest); var parts = [ urlDest ];
       if (urlDest.indexOf("?") >= 0) { parts.push("&unshim=", encodeURIComponent(href)); }
       else { parts.push("?unshim=", encodeURIComponent(href)); }
       urlDest = encodeURIComponent(parts.join(""));
       url = [ urlPrefix, urlDest, urlSuffix, hash ].join("");
//
       var resize = function() { var a = $("#applet"); shopDiv.css({ top: a.position().top, left: a.position().left, height: "700px", width: a.width() + "px" }); };
       var shopDiv = $("<div/>").css({ "font-size" : "10pt", "color" : "#FFF", top: 0, left: 0, height: "100%", width: "100%", position: "absolute", zIndex: 100, background: "#000 url('http://www.runescape.com/img/global/page/loadingAnimation.gif') no-repeat scroll center"}).appendTo("body");
       var shopFrame = $("<iframe/>").attr({ src : url, frameBorder : "0", scrolling : "no" }).css({ top : 0, left : 0, height: "100%", width: "100%", position : "absolute", zIndex : 100, display : "none" }).appendTo(shopDiv);
       var triggered = false;
       shopFrame.on("load", function() { if (!triggered) { triggered = true; shopFrame.show(); }});
       window.setTimeout(function() { if (!triggered) {
              triggered = true;
              shopFrame.remove();
              shopDiv.append("<h2>Store Unavailable</h2><p> The store is temporarily unavailable. Click Continue to return to RuneScape.</p><p><a href=\"#\">Continue</a></p>");
              shopDiv.find("a").click(function(evt) { evt.preventDefault(); evt.stopPropagation(); self.unshim(); });
       }}, 25000);
//
       self.unshim = function() {
              $(window).off("resize", resize);
              shopFrame.off("load");
              shopDiv.find("a").off("click");
              shopDiv.remove();
              $("applet").focus();
       };
//
       $(window).on("resize", resize);
       $(window).resize();
       return false;
}

function _13(href) {
 return openjs_size(href,630,700);
}

function _14(){
 var current_date = new Date(),
 current_time = current_date.getTime();
 if(current_time - memory.adv_refresh >= memory.adv_refresh_limit) {
  memory.adv_refresh = current_time;
  try {
   if(document.getElementById('/7108/World_Hop_Video_0_iframe')) {
    memory.advert = document.getElementById('/7108/World_Hop_Video_0_iframe');
    memory.advert.src = tb_url;
    memory.advert.contentWindow.location = tb_url;
   } else {
    memory.advert.contentWindow.location.reload();
   }
  }catch(x){}
 }
}

var video_advert_play_adNotFound;
function _16(d,f,t) {
  
  video_advert_play_adNotFound = setTimeout(adNotFound,20000);
  try {
   if(!document.getElementById('advert-iframe')) {
    var datestamp = new Date(),
      timestamp = datestamp.getTime();
    switch(t) {
     case 1:
      
      
      
      var tag = "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F7108%2FLobby_Video&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=http://www.runescape.com&correlator=" + timestamp;
      var title = "segment-1";
      break;
     case 2:
      
      
      
      var tag = "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F7108%2FLobby_Video&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=http://www.runescape.com&correlator=" + timestamp;
      var title = "segment-2";
      break;
     case 3:
      
      
      
      var tag = "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F7108%2FLobby_Video&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=http://www.runescape.com&correlator=" + timestamp;
      var title = "segment-3";
      break;
     case 4:
      
      
      
      var tag = "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F7108%2FLobby_Video&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=http://www.runescape.com&correlator=" + timestamp;
      var title = "segment-4";
      break;
     case 5:
      
      
      
      var tag = "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F7108%2FLobby_Video&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=http://www.runescape.com&correlator=" + timestamp;
      var title = "segment-5";
      break;
     case 6:
     default:
      
      
      var tag = "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=%2F7108%2FWorld_Hop_Video&ciu_szs=728x90&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=http://www.runescape.com&correlator=" + timestamp;
      var title = "world-hop";
      break;
    }
    playVideoAdvertFromTag(tag, 640, 360, title);
    if(t > 0 && t < 6) {
     
     removeBannerAd();
    }
   }
   googleLogEvent('video ads','success - player loaded',currTag);
   return true;
  }
  catch (err) {
   clearTimeout(video_advert_play_adNotFound);
   googleLogEvent('video ads','error - player failed',currTag);
   googleLogEvent('video ads','error - player failed: '+err.toString(),currTag);
   console.log('Error:' + err);
   removeVideoAdvert();
   removeCSSHide();
   return false;
  }
}

function _17(){
 var ifrm=document.getElementById("notify");
 if(ifrm) ifrm.src="https://secure.runescape.com/m=create/applet_created.ws";
 window.google_conversion_id = 1031096559;
 window.google_conversion_language = "en";
 window.google_conversion_format = "3";
 window.google_conversion_color = "ffffff";
 window.google_conversion_label = "LBGlCLm0lQcQ75HV6wM";
 window.google_conversion_value = 0;
 var oldDocWrite = document.write; 
 document.write = function(node){ 
  $("body").append(node)
 }
 $.getScript("//www.googleadservices.com/pagead/conversion.js", function() {
  setTimeout(function() { 
   document.write = oldDocWrite
  }, 100)
 })
 
 
 
 
 
 
 
 
 
 
}

   
  </script>

<script type="text/javascript">
  
  
   document.write(unescape("%3Cscript src='http://www.google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  
 </script>


<script type="text/javascript">
  try {
  var _pageTracker=_gat._getTracker("UA-2058817-15");
  _pageTracker._setDomainName(".runescape.com");
  _pageTracker._setSessionCookieTimeout(0);
  
  _pageTracker._trackPageview();
  }catch(x){}
 </script>


<script type="text/javascript">
  try {
  var pageTracker=_gat._getTracker("UA-2058817-2");
  pageTracker._setDomainName(".runescape.com");
  pageTracker._setSessionCookieTimeout(0);
  
  pageTracker._trackPageview();
  }catch(x){}
 </script>


<script type="text/javascript">
   var advertPlaying = false;
   var bannerCopy = null;
   var noAdResponseAbort = true;
   var videoCounter  = 35;
   var currCounter  = 35;
   var countDownTimer = null;
   var startTimer = null;
   var hasFlash = true;
   var playerAndAdReady = 0;
   var currTag;
   
   function playVideoAdvertFromTag(advertTag, advertWidth, advertHeight, reportTitle) {
    
    advertPlaying = true;
    if(!advertWidth) advertWidth=640;
    if(!advertHeight) advertHeight=360;
    if(!reportTitle) reportTitle='world-hop';
    currTag = reportTitle;
    var bodyElement = document.getElementsByTagName('body')[0];
    
    var playerIframe = document.createElement('iframe');
    playerIframe.setAttribute('id', 'advert-iframe');
    playerIframe.setAttribute('frameborder', 0);
    playerIframe.setAttribute('src', 'blank.ws');
    playerIframe.style.height = document.body.clientHeight + 'px';
    playerIframe.style.width = document.body.clientWidth + 'px';
    bodyElement.appendChild(playerIframe);
    
    var playerDiv = document.createElement('div');
    playerDiv.setAttribute('id', 'advert-modal');
    
    playerDiv.innerHTML = "<div class=\"corner topLeft\"></div><div class=\"corner topRight\"></div><div class=\"corner bottomLeft\"></div><div class=\"corner bottomRight\"></div><div class=\"border top\" id=\"border-top\"></div><div id=\"advert-player\"></div><div id=\"furtherInfo\"><p id=\"thisIsAdvert\">Advertisement</p><p id=\"countdownp\">Loading advert</p></div><a title=\"Click here for more information about this advert\" class=\"qm\" onclick=\"reportVideoAdvert('"+reportTitle+"')\">?</a><div id=\"noflash\"><p>Problem viewing this advert? Try enabling the Flash plugin in your browser.</p></div>";
    bodyElement.appendChild(playerDiv);
    
    jwplayer('advert-player').setup({
      autostart: true,
      canFireAPICalls: true,
      playerready: function() {
        playerAndAdReady++;
       moveInIFrame();
      },
      
      file: "http://www.runescape.com/img/main/downloads_and_media/video/blank_flv.flv",
      plugins: {
        'http://www.runescape.com/img/game/videoads/googima.js': {
        ad: {
         my_ad: {
          tag: advertTag,
          type: 'video',
          position: 'pre'
         }
        },
        allowadskip: false,
        usestaticmessage: true,
       
       
        
         admessagestatic: "Your game will continue after this advertisement",
        
       
        click_tracking: true,
        allowplayercontrols: true,
        allowvolumeslider: true,
        events: {
         onAdStart: function() {
         playerAndAdReady++;
         moveInIFrame();
         noAdResponseAbort = false;
         
         setTimeout(function() { $("#advert-modal").css('width','641px'); },1000);
         clearTimeout(video_advert_play_adNotFound);
         googleLogEvent('video ads','success - video started',currTag);
         },
         onAdComplete: function() {
          removeVideoAdvert();
         removeCSSHide();
         clearTimeout(video_advert_play_adNotFound);
          googleLogEvent('video ads','success - video shown in full',currTag);
         },
         onAdsComplete: function() {
          removeVideoAdvert();
         removeCSSHide();
         clearTimeout(video_advert_play_adNotFound);
          googleLogEvent('video ads','success - all videos shown in full',currTag);
         },
         onAdError: function() {
          removeVideoAdvert();
         removeCSSHide();
         clearTimeout(video_advert_play_adNotFound);
          googleLogEvent('video ads','error - ad error',currTag);
         },
         onAdNotAvailable:  function() {
          removeVideoAdvert();
         removeCSSHide();
         clearTimeout(video_advert_play_adNotFound);
          googleLogEvent('video ads','error - ad unavailable',currTag);
         }
        },
        scaled_ads: false
       }
      },
      width: advertWidth,
      height: advertHeight,
      modes: [
       {type: "flash", src: "http://www.runescape.com/img/game/videoads/player.swf"}
      ]
    });
    if (jwplayer.utils.hasFlash()===false) {
     clearTimeout(video_advert_play_adNotFound);
     googleLogEvent('video ads','error - no flash',currTag);
     handleNoFlash();
    }
    return true;
   }
   
   window.onresize = function() {
    if(document.getElementById('advert-iframe') && advertPlaying) {
     var playerIframe = document.getElementById('advert-iframe');
     playerIframe.style.height = document.body.clientHeight + 'px';
     playerIframe.style.width = document.body.clientWidth + 'px';
    }
   }
   function removeBannerAd() {
     
    if (!(bannerCopy && bannerCopy.length)) {
     bannerCopy = $("#top #advert").detach();
    }
    $("body").addClass("no-advert");
   }
   function insertBannerAd() {
    if ( $("#advert").length === 0 ) { $("#top").append(bannerCopy); }
    $("body").removeClass("no-advert");
    $("body").removeClass("members");
    if (memory.advert) memory.advert.src = tb_url;
   }
   
   function handleNoFlash() {
    hasFlash = false;
    var advertPlayer = document.getElementById('advert-player');
    advertPlayer.style.width = "640px";
    advertPlayer.style.height = "360px";
    $('#noflash').css('display','block');
    playerAndAdReady = 2;
    moveInIFrame();
    $('#countdownp').css('display','block');
   }
   
   function adVideoStart() {
    var advertPlayer = document.getElementById('advert-player');
    var advertModal = document.getElementById('advert-modal');
    if (advertModal) {
     advertModal.style.width = advertPlayer.offsetWidth + 'px';
     advertModal.style.height = advertPlayer.offsetHeight + 'px';
     advertModal.style.left = "auto";
     advertModal.style.top = (document.body.clientHeight/2) - (advertPlayer.offsetHeight/2) + "px";
    }
    var borderTop = document.getElementById('border-top');
    if (borderTop) {
     borderTop.style.left = (advertPlayer.offsetWidth/2)-256 + 'px';
    }
    advertPlaying = true;
    countDownTimer = setTimeout(videoCountdown, 100);
    var current_date = new Date();
    memory.adv_refresh = current_date.getTime();
    $('#loadingMessage').remove();
   }
   
   function moveInIFrame() {
    var playerIframe = document.getElementById('advert-iframe');
    if (playerIframe) {
     playerIframe.style.left = 0;
    }
    if (playerAndAdReady === 2) {
     adVideoStart();
    }
    if ($("#loadingMessage").length === 0) { $("body").append("<div id='loadingMessage'>Video loading...</div>"); }
   }
   
   function removeVideoAdvert() {
    
    advertPlaying = false;
    noAdResponseAbort = true;
    resetTimer();
    $('#advert-iframe').remove(); // Remove the iFrame shim
    $('#advert-modal').fadeOut(1000,function(){ $(this).remove();$("#loadingMessage").remove(); }); // Fade out the player while playng a blank video, then remove it all in 1s
   }
   
   function adNotFound() {
    if(noAdResponseAbort&&hasFlash)  {
     removeVideoAdvert();
     removeCSSHide();
     googleLogEvent('video ads','error - 10 sec timeout hit',currTag);
    }
   }
   
   function reportVideoAdvert(creative) {
    var newwindow=window.open('http://www.runescape.com/advert/bannerinfo.ws?item=video&creative='+creative, 'bannerinfo', 'screenX=80,screenY=80,width=400,height=340,toolbar=0,resizable=0');
    if(newwindow.focus){
     newwindow.focus();
    }
   }
   
   function videoCountdown() {
    if (!startTimer) startTimer = new Date();
    var actualMillis = new Date() - startTimer;
    var message = "continue into game - countdown is up";
    if (!hasFlash) {
     var message = "continue into game - countdown is up (no flash)";
    }
    if (currCounter == 0) {
     if (document.getElementById("countdownp")) {
      document.getElementById("countdownp").innerHTML = '<a href="#" id="countDownUp">Continue to game</a>';
      $("#countDownUp").click(function() {
       removeVideoAdvert();
       removeCSSHide();
       googleLogEvent('video ads',message,currTag);
      });
     }
     resetTimer();
    } else {
     if (Math.floor(actualMillis/1000) >= (videoCounter - currCounter)) {
      if (document.getElementById("countdownp")) document.getElementById("countdownp").innerHTML = 'You will be able to continue into game in 35 seconds'.replace(/35/, currCounter);
      currCounter--;
     }
     countDownTimer = setTimeout(videoCountdown, 100);
    }
   }
   function resetTimer() {
    currCounter = 35;
    clearTimeout(countDownTimer);
    startTimer = null;
    playerAndAdReady = 0;
    $('#loadingMessage').remove();
   }
   /* Async google event tracking */
   var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2058817-2']);
   function googleLogEvent(category,message,currTag) {
    if (typeof _gaq === 'object'){
     _gaq.push(['_trackEvent',category,message,currTag]);
    }
   }
  </script>
<iframe id="notify" src="" width=0 height=0 style="display: none"></iframe>
</body>
</html>
